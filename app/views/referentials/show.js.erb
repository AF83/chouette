$(document).ready(function() {

 jQuery(function() {
var ref, update_infos, update_referential_details, _i, _len, _ref, _results;
update_infos = function(json) {
var info, update_info;
info = $('#referential_' + json.referential_id + ' .info');
update_info = function(key, value) {
if (key.match(/_count$/)) {
return $(info.find('.' + key)[0]).text(value);
}
};
return $.each(json, update_info);
};
update_referential_details = function(ref) {
var ref_id;
ref_id = $(ref).attr("id").match(/(\d+)$/)[0];
return $.getJSON(<%= referential_path(@referential, :type => :json) %>, update_infos);
};
_ref = $('.referentials.index .referential');
_results = [];
for (_i = 0, _len = _ref.length; _i < _len; _i++) {
ref = _ref[_i];
_results.push(update_referential_details(ref));
}
return _results; 
});

